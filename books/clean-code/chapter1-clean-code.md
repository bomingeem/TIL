1장. 깨끗한 코드
===========


#### 코드가 존재하리라
프로그래밍 언어에서 추상화 수준은 점차 높아지고, 특정 응용 분야에 적합한 프로그래밍 언어 수도 점차 늘어날 것이라고 예상한다. 하지만 그렇다고 코드가 사라지진 않는다.  
궁긍적으로 코드는 요구사항을 표현하는 언어라는 사실을 명심한다.


#### 나쁜 코드
80년대 후반 Killer App 하나를 구현한 회사가 있었는데, 회사는 얼마 못가 망했다. 회사가 망한 원인은 바로 나쁜 코드 탓이었다.  
우리모드는 자신이 짠 쓰레기 코드를 쳐다보며 나중에 손보겠다 생각한 경험이 있다. 다시 돌아와 나중에 정리하겟다고 다짐했었다.  
물론 그때 그 시절 우리는 르블랑의 법칠을 몰랐다. **나중은 결코 오지 않는다.**


#### 나쁜 코드로 치르는 대가
나쁜 코드가 쌓일수록 팀 생산성은 떨어진다. 그러다가 마침내 0에 근접한다.  
생산성이 떨어지면 관리층은 나름대로 복구를 시도하고자 인력을 추가로 투입하지만, 새 인력은 시스템 설계에 대한 조예가 깊지 않고 설계 의도에 맞는 변경과 설계 의도에 반하는 변경을 구분하지 못한다.  
게다가 새 인력과 팀은 생산성을 높여야 한다는 극심한 압력에 시달려 결국은 나쁜 코드를 더 많이 양산한다.  
[이미지]


##### 원대한 재설계의 꿈
시간을 들여 깨끗한 코드를 만드는 노력이 비용을 절감하는 방법일 뿐만 아니라 전문가로서 살아남는 길이라는 사실일 인정하리라  


##### 태도
좋은 코드가 순식간에 나쁜 코드로 전락할까? 온갖 이유를 들이대자면 요구사항이 변했다고 불평한다. 일정이 촉박해 제대로 할 시간이 없었다고 한탄한다. 관리자와 고객과 마케팅 부서 탓이라 떠벌인다.  
하지만 잘못은 전적으로 우리 프로그래머에게 있다.  
관리자와 마케팅은 약속과 공약을 내걸며 우리에게 정보를 구하고, 사용자는 요구사항을 내놓으며 우리에게 현실성을 자문한다. 프로젝트 관리자는 일정을 잡으며 우리에게 도움을 청한다.  
우리는 프로젝트를 계획하는 과정에 깊숙히 관여하기에 우리에게도 커다란 책임이 있다.  
프로그래머는 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.


##### 원초적 난제
기한을 맞추는 유일한 방법은, 그러니까 빨리가는 유일한 방법은, 언제나 코드를 최대한 깨끗하게 유지하는 습관이다.  


##### 깨끗한 코드라는 예술?
"깨끗한 코드를 어떻게 작성할까?" 깨끗한 코드가 무엇인지 모르면 깨끗한 코드를 만들려고 애써봤자 소용이 없다.  
깨끗한 코드와 나쁜 코드를 구분할 줄 안다고 깨끗한 코드를 작성할 줄 안다는 뜻은 아니다.  
깨끗한 코드를 작성하려면 '청결' 이라는 힘겹게 습득한 감각을 활용해 자잘한 기법들을 적용하는 절제와 규율이 필요하다.  
다시 말해, 깨끗한 코드를 작성하는 프로그래머는 빈 캔퍼스를 우아한 작품으로 바꿔가는 화가와 같다.  


##### 비야네 스트롭스트룹
C++ 창시자이자 The C++ Programming Language 저자  
나는 우아하고 효율적인 코드를 좋아한다. 논리가 간단해야 버그가 숨어들지 못한다.  
의존성을 최대한 줄여야 유지보수가 쉬워진다. 오류는 명백한 전략에 의거해 철저히 처리한다.  
성능을 최적으로 유지해야 사람들이 원칙 없는 최적화로 코드를 망치려는 유혹에 빠지지 않는다.  
깨끗한 코드는 한 가지를 제대로 한다.  


##### 그래디 부치
Object Oriented Analysis and Design with Application 저자  
깨끗한 코드는 단순하고 직접적이다. 깨끗한 코드는 잘 쓴 문장처럼 읽힌다.  
깨끗한 코드는 결코 설계자의 의도를 숨기지 않는다. 오히려 명쾌한 추상화와 단순한 제어문으로 가득하다.  


##### 큰 데이브 토마스
OTI 창립자이자 이클립스 전략의 대부  
깨끗한 코드는 작성자가 아닌 사람도 읽기 쉽고 고치기 쉽다. 단위 테스트 케이스와 인수 테스트 케이스가 존재한다.  
깨끗한 코드에는 의미 있는 이름이 붙는다. 특정 목정을 달성하는 방법은 (여러가지가 아니라) 하나만 제공한다.  
의존성은 최소이며 각 의존성을 명확히 정의한다. API는 명확하며 최소로 줄였다.  
언어에 따라 필요한 모든 정보를 코드만으로 명확히 표기할 수 없기에 코드는 문학적으로 표현해야 마땅하다.  


##### 마이클 페더스
Working Effectively with Legacy Code 저자  
깨끗한 코드의 특징은 많지만 그 중에서도 모두를 아우르는 특징이 하나 있다.  
깨끗한 코드는 언제나 누군가 주의 깊게 짰다는 느낌을 준다. 고치려고 살펴봐도 딱히 손 댈 곳이 없다.  
작성자가 이미 모든 사항을 고려했으므로, 고칠 궁리를 하다보면 언제나 제자리로 돌아온다.  
그리고는 누군가 남겨준 코드, 누군가 주의 깊게 짜놓은 작품에 감사를 느낀다.  


##### 론 제프리스
Extreme Programming Installed와 Extreme Programming Adventure in #C 저자  
론은 스트레티직 에어 커맨드 사에서 포트란으로 프로그래밍을 시작한 이래 거의 모든 플랫폼에서 거의 모든 언어로 코드를 구현해왔다.  
그러므로 그의 의견은 신중하게 고려할 가치가 있다.  
* 모든 테스트를 통과한다.
* 중복이 없다.
* 시스템 내 모든 설계 아이디어를 표현한다.
* 클래스, 메서드, 함수 등을 최대한 줄인다.


##### 워드 커닝햄
위키 창시자, 피트 창시자, 익스트림 프로그래밍 공동 창시자, 디자인 패턴을 뒤에서 움직이는 전문가, 코드를 사랑하는 프로그래머들의 대부  
코드를 읽으면서 짐작했던 기능을 각 루틴이 그대로 수행한다면 깨끗한 코드라 불러도 되겠다.  
코드가 그 문제를 풀기 위한 언어처럼 보인다면 아름다운 코드라 불러도 되겠다.


##### 우리들 생각
이 책은 우리 **오브젝트 멘토 진영이 생각하는 깨끗한 코드**를 설명한다.


##### 우리는 저자다
우리는 저자다. 저자에게는 독자가 있다. 그리고 저자에게는 독자와 잘 소통할 **책임**도 있다.  
코드를 읽는 시간 대 코드를 짜는 시간 비율이 10대 1을 훌쩍 넘는다.  
새 코드를 짜면서 우리는 **끊임없이** 기존 코드를 읽는다. 비율이 이렇게 높으므로 읽기 쉬운 코드가 매우 중요하다.  
주변 코드를 읽지 못하면 새 코드를 짜지 못한다. 주변 코드가 읽기 쉬우면 새 코드를 짜기도 슆다.  
주변 코드를 읽기가 어려우면 새 코드를 짜기도 어렵다. 쉽게 짜려면 읽기 쉽게 만들면 된다.


##### 보이스카우트 규칙
잘 짠 코드가 전부는 아니다. 시간이 지나도 언제나 깨끗하게 유지해야 한다.  
미국 보이스카우트가 따르는 간단한 규칙이 우리 전문자들에게도 유용하다.  
**캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라**  


##### 결론
예술에 대한 책을 읽는다고 예술가가 된다는 보장은 없다. 책은 단지 다른 예술가가 사용하는 도구와 기법, 그리고 생각하는 방식을 소개할 뿐이다.  
이 책 역시 마찬가지다. 이 책을 읽는다고 뛰어난 프로그래머가 된다는 보장은 없다. '코드감각'을 확실히 얻는다는 보장도 없다.  
단지 뛰어난 프로그래머가 생각하는 방식과 그들이 사용하는 기술과 기교와 도구를 소개할 뿐이다.  
나머지는 여러분에게 달렸다. **연습합시다. 연습!**







