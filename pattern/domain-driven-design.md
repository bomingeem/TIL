도메인 기반 디자인(Domain Driven Design)
===========
DDD 또는 도메인 주도 설계라고 부른다. **도메인 패턴** 을 중심에 놓고 설계하는 방식을 일컫는다.  
 - 도메인 그 자체와 도메인 로직에 초점을 맞춘다. 일반적으로 많이 사용하는 **데이터 중심의 접근법** 을 탈피해서 순수한 도메인의 모델과 로직에 집중하는 것을 말한다.
 - **보편적인 언어** 의 사용이다. 도메인 전문가와 소프트웨어 개발자 간의 커뮤니테이션 문제를 없애고 상호가 이해할 수 있고 모든 문서와 코드에 이르기까지 동일한 표현과 단어로 구성된 단일화된 언어체계를 구축해나가는 과정을 말한다. 이로써 분석 작업과 설계 그리고 구현에 이르기까지 통일된 방식으로 커뮤니케이션이 가능해진다.  
 - **소프트웨어 엔티티와 도메인 컨셉을 가능한 가장 가까이 일치키시는 것** 이다. 분석 모델과 설계가 다르고 그것과 코드가 다른 구조가 아니라 도메인 모델부터 코드까지 항상 함께 움직이는 구조의 모델을 지향하는 것이 DDD의 핵심 원리이다.

#### 데이터 주도 설계란?
데이터 주도 설계란 객체가 가져야 할 **데이터에 초점** 을 두고 설계를 하는 방식을 일컫는다.  
데이터 주도 설계에서는 **객체 자신이 포함하고 있는 데이터를 조작** 하는 데 필요한 행동을 정의한다.  

설계 시 협력에 고민을 하지 않았기 때문에 **과도한 접근자와 수정자** 가 탄생하게 된다. 이는 후에 객체가 어떤 곳에 사용될 지 알수가 없기 때문에 최대한 많은 접근자와 수정자를 만들게 된 것이다.  

결과적으로 데이터 중심 설계는 외부에 대부분의 구현이 노출되기 때문에 **캡슐화의 원칙을 위반** 하게 된다.  
내부 구현이 **public interface** 에 노출되며, 이 때문에 다른 객체들과 **강하게 결합** 된다.  
이로 인해 객체의 내부 구현이 변경될 때 이 인터페이스에 의존하는 모든 객체들이 함께 변경되므로 **높은 결합도** 를 유지하게 된다.  

#### 왜 도메인 주도 설계를 사용해야 하는가
 - 도메인 모델의 적용 범위를 구현까지 확장하여 도메인 지식을 구현 코드에 반영
 - 공통의 언어(유비쿼터스)를 사용하여 도메인과 구현을 충분히 만족하는 모델을 만듬
 - 실제 코드로 구현 가능한 현실성 있는 도메인 모델 분석과 그것을 추상화하는 설계
 - "설계를 하라, 그 다음에 구축하라"가 아니다

#### 용어정리
 - 유비쿼터스 언어: 도메인에서 사용하는 용어를 코드에 반영하지 않으면 그 코드는 개발자에게 코드의 의미를 해석해야 하는 부담을 준다. **코드의 가독성**을 높여서 코드를 분석하고 이해하는 **시간을 절약**, 용어가 정의 될 때마다 용어 사전에 이를 기록하고 명확하게 정의 함으로써 추후 또는 다른 사람들도 공통된 언어를 사용할 수 있도록 한다.  
 - 도메인: 일반적인 요구사항, 소프트웨어로 해결하고자 하는 문제 영역
 - 도메인 모델: 특정 도메인을 개념적으로 표현한 것, 도메인 모델을 사용하면 여러 관계자들이 동일한 모습으로 도메일을 이해하고 도메일 지식을 공유하는 데 도움이 된다.
 - Entity: 테이블 모델, 고유 식별자를 가짐
 - Value Object: 데이터 표현 모델 식별자를 가지고 있지 않고 불변 타입이다.  
 - Aggregate: 연관된 Entity와 Value Object의 묶음, 일관성과 트랜잭션, 분산의 단위
 - Bounded Context: 특정한 도메인 모델이 적용되는 제한된 영역 경계 내에선 동일한 모델을 일관되게 적용
 - Context Map: Bounded Context 간의 관계


### 도메인 주도 설계 아키텍처

#### 프레젠테이션 레이어
UI 영역이라고 사용하는 데도 있으며 사용자의 요청을 받아 애플리케이션 영역의 처리 결과를 다시 사용자에게 보여주는 역할

#### 애플리케이션 레이어
사용자에게 제공해야 할 기능을 구현

#### 도메인 레이어
도메인 모델을 구현한다. 한 애그리게이트에 넣기 애매한 도메인 개념을 구현하려면 애그리게이트에 억지로 넣기보다는 도메인 서비스를 이용해서 도메인 개념을 명시적으로 드러내면 된다. 도메인 서비스를 사용하는 주체는 애그리게이트가 될 수 있고 응용 서비스가 될 수도 있다

#### 인프라스트럭처 레이어
영속성을 구현하거나 외부와 통신하는 기능을 제공하는 레이어






